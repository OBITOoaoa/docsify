# 操作系统面试高频（五）linux命令

## 1.Linux中查看进程运行状态的指令、tar解压文件的参数。⭐⭐⭐

### **在Linux中，可以使用以下指令查看进程的运行状态：**

#### **top**：

用于实时监视系统的进程活动和系统资源使用情况。在终端中运行top命令，可以查看进程的CPU占用、内存占用、运行时间等信息。

#### **ps**：用于显示当前正在运行的进程。常用的参数包括：

> #### ps -aux：显示所有正在运行的进程的详细信息。
>
> ps -ef：显示所有正在运行的进程的完整信息。

#### 对于tar解压文件，可以使用以下参数：

- x：表示解压文件。
- v：可选参数，表示显示详细的解压过程。
- f：后面接需要解压的文件名。
- z：可选参数，用于解压gzip格式的文件。
- j：可选参数，用于解压bzip2格式的文件。
- C：指定解压目录，后面接目标目录。

例如，使用以下命令解压一个tar文件：

> tar -xvf file.tar

如果需要解压一个gzip格式的tar文件，可以使用以下命令：

> tar -xzvf file.tar.gz

## 2.说说常用的Linux命令⭐⭐⭐

| man        | 帮助命令                                                     |
| ---------- | ------------------------------------------------------------ |
| ls命令     | 查看当前文件与目录信息                                       |
| cd命令     | 用于切换当前目录                                             |
| pwd命令    | 用于显示工作目录。                                           |
| mkdir命令  | mkdir 命令用于创建文件夹。                                   |
| rm命令     | 删除文件或文件夹命令                                         |
| rmdir 命令 | 从一个目录中删除一个或多个子目录项                           |
| mv命令     | 移动文件或文件夹命令                                         |
| cp命令     | 复制命令                                                     |
| cat命令    | 查看文件内容；连接文件                                       |
| more命令   | more 会以一页一页的显示文件内容                              |
| less命令   | less 与 more 类似，但使用 less 可以随意浏览文件              |
| grep命令   | 该命令常用于分析一行的信息，若当中有我们所需要的信息，就将该行显示出来，该命令通常与管道命令一起使用，用于对一些命令的输出进行筛选加工。 |
| ps命令     | 查看进程情况                                                 |
| top命令    | 可以查看操作系统的信息，如进程、CPU占用率、内存信息等        |
| kill命令   | 向进程发送终止信号                                           |

## 3.如何创建一个新的目录？⭐⭐

要在Linux中创建一个新的目录，可以使用`mkdir`命令。`mkdir`是用于创建目录的命令，下面是它的基本用法：

> mkdir 目录名

其中，"目录名"是您想创建的新目录的名称。以下是一些示例：

> mkdir mydir # 创建一个名为 "mydir" 的目录
>
> mkdir /path/to/mydir # 创建一个位于指定路径 "/path/to" 下的目录，名称为 "mydir"

如果您希望同时创建多层级的目录，可以使用`-p`参数：

> mkdir -p /path/to/mydir # 创建一个嵌套多层级的目录 "/path/to/mydir"

请注意，您需要拥有足够的权限才能在所选位置创建目录。如果您没有权限，您可能需要使用`sudo`命令或联系系统管理员来执行该操作。

## 4.说说如何以root权限运行某个程序。⭐

- **要以root权限运行某个程序，您可以使用****`sudo`****命令。****`sudo`****命令允许普通用户以超级用户（即root用户）的权限来执行命令。下面是使用****`sudo`****命令来以root权限运行程序的步骤：**

> **sudo ./app**

- **使用sudo su 进入root用户下运行程序**

> **1. sudo su 先进入root用户**
>
> **2. ./app 再运行程序**

## 5.linux里如何查看一个想知道的进程？⭐

在 Linux 中，您可以使用 `ps` 命令来查看正在运行的进程。`ps` 命令用于报告当前活动进程的快照。以下是使用 `ps` 命令来查看进程的常见用法：

**查看所有进程：**

> ps aux

查看特定用户的进程：在上述命令中，将 "用户名" 替换为要查看其进程的实际用户名。

> ps -u 用户名

查找特定进程：将 "进程名" 替换为要查找的实际进程名。

> ps -ef | grep 进程名

这些命令将显示有关正在运行的进程的信息，例如进程 ID (PID)、父进程 ID (PPID)、CPU 使用情况、内存使用情况等。

## 6. Linux里如何查看带有关键字的日志文件？⭐

在 Linux 中，您可以使用 `grep` 命令来查找带有关键字的日志文件。`grep` 命令用于在文件中搜索指定的模式或关键字，并将匹配的行打印出来。以下是使用 `grep` 命令查看带有关键字的日志文件的常见用法：

```
grep "关键字" 文件路径
在上述命令中，将 "关键字" 替换为您要查找的实际关键字，将 "文件路径" 替换为您要搜索的日志文件的路径和名称。
```

另外，您可以结合使用 `grep` 和其他命令，例如 `cat` 或 `tail`，以更好地查看和筛选日志文件中的内容：

- 使用 cat 命令查看整个日志文件并在其中搜索关键字：
- 使用 tail 命令查看日志文件的末尾内容并在其中搜索关键字：

在这些命令中，使用管道（`|`）将结果从一个命令传递给另一个命令，使您能够在日志文件中进行筛选和搜索。

请注意，在使用 `grep` 命令时，关键字的匹配是区分大小写的。如果您想要执行大小写不敏感的搜索，您可以使用 `-i` 选项，如下所示：

```
grep -i "关键字" 文件路径
```

## 7.说说你对grep命令的了解？⭐

**`grep`** **是一个强大的 Linux 命令，用于在文件中搜索指定的模式或关键字，并将匹配的行打印出来。其名称来自于 "Global Regular Expression Print"（全局正则表达式打印）。**

以下是关于 `grep` 命令的一些重要概念和用法：

### **基本用法**：

grep '模式' 文件路径替换 '模式' 为您要搜索的实际模式或关键字。替换 '文件路径' 为您要搜索的文件路径和名称。

### **文件搜索：**

grep 可以搜索一个或多个文件，甚至可以使用通配符来匹配一类文件。例如：grep 'pattern' file1.txt：在单个文件中搜索指定模式。grep 'pattern' file1.txt file2.txt：在多个文件中搜索指定模式。grep 'pattern' *.txt：在当前目录下所有以 .txt 结尾的文件中搜索指定模式。

### **递归搜索：**

grep 可以递归搜索指定目录和子目录中的文件。使用 -r 或 --recursive 选项来执行递归搜索。例如：grep -r 'pattern' directory：在指定目录及其子目录中递归搜索指定模式。

### **正则表达式：**

grep 支持使用正则表达式进行模式匹配。正则表达式可以更强大地指定模式的规则。例如：grep 'pat*tern' file.txt：使用通配符（*）匹配模式的一部分。

### **输出控制：**

grep 可以选择不同的输出模式和格式。例如：grep -l 'pattern' file.txt：仅打印匹配模式的文件名，而不打印匹配的行。grep -n 'pattern' file.txt：在打印匹配行的同时，显示行号。

### **多重条件：**

grep 可以使用多个条件组合搜索。例如：grep 'pattern1|pattern2' file.txt：在文件中搜索满足 pattern1 或 pattern2 的行。

## 8.Linux修改主机名的命令是什么？⭐

在 Linux 中，要更改主机名，您可以使用以下命令：

1. **hostnamectl set-hostname：将 "新主机名" 替换为您要设置的新主机名。请注意，您需要使用管理员权限（例如 sudo）来运行此命令。**
2. **hostname：同样，将 "新主机名" 替换为您要设置的新主机名，并使用管理员权限运行命令。**

请注意，在某些系统上，修改主机名后可能需要重启系统才能使更改生效。

此外，您还可以编辑 `hosts` 文件来更改主机名。`hosts` 文件通常位于 `/etc/hosts`：

```
sudo vi /etc/hosts
```

在该文件中，您可以找到类似以下的行：

```
127.0.0.1    旧主机名
```

将其中的 "旧主机名" 替换为您要设置的新主机名，保存并退出文件即可。

## 9.请你说说ping命令？⭐

以下是 `ping` 命令的一些重要概念和用法：

#### 基本用法：

ping 目标主机例如，ping www.example.com 或 ping 192.168.0.1。替换 "目标主机" 为您想要测试的实际主机名或 IP 地址。

#### 持续模式：

默认情况下，ping 发送一系列网络探测包给目标主机并等待响应，然后显示结果并终止。如果希望持续进行测试，可以使用 -t（在 Windows）或 -c（在 Linux 和 macOS）选项。例如，ping -t www.example.com 或 ping -c 10 192.168.0.1。替换 "10" 为您想要发送的探测包数量。

#### 终止测试：

按下 Ctrl+C（在 Windows、Linux 和 macOS）可以终止 ping 命令的持续测试。

#### 输出信息： 

ping 命令显示每个探测包的发送和接收时间、往返时间（RTT）以及丢包情况。它还提供有关目标主机的 IP 地址和主机名的信息。

#### 参数选项：

 ping 命令提供一些选项，使您可以对测试进行定制。-i：可以指定发送探测包之间的时间间隔（仅适用于 Linux 和 macOS）。-s：可以指定要发送的探测包的大小（仅适用于部分系统）。

#### ICMP 协议：

 ping 命令使用 ICMP （Internet Control Message Protocol）来发送探测包和接收响应。通过发送 ICMP Echo Request 包并等待目标主机返回 ICMP Echo Reply 包，可以测试网络的可达性和延迟。

## 10.简述GDB常见的调试命令，什么是条件断点，多进程下如何调试。⭐⭐⭐

GDB（GNU Debugger）是一个强大的命令行调试工具，用于对程序进行调试和分析。下面是 GDB 的常见调试命令以及关于条件断点和多进程调试的简要说明：

### 常见调试命令：

- break（或 b）：设置断点，断点可以在指定的源代码行位置暂停程序的执行。
- run（或 r）：启动程序的执行，如果有断点，则执行到第一个断点处暂停。
- continue（或 c）：继续执行程序，直到遇到下一个断点或程序结束。
- next（或 n）：执行下一条语句，但是不会进入函数。
- step（或 s）：执行下一条语句，并进入函数。
- print（或 p）：打印变量的值。backtrace（或 bt）：打印函数调用堆栈。
- quit（或 q）：退出 GDB。

### 条件断点：

条件断点是根据给定的条件在程序执行过程中暂停的断点。可以使用 break 命令并在源代码行位置后添加条件表达式来设置条件断点。例如：其中 line_number 是要设置断点的源代码行号，condition 是表示条件的表达式。只有当条件表达式为真时，断点才会触发。

### 多进程调试：

在 GDB 中，可以调试多进程程序。使用 attach 命令可以连接到正在运行的进程，让 GDB 托管该进程进行调试。例如：其中 pid 是要调试的进程的进程 ID。连接成功后，就可以使用调试命令对该进程进行调试。还可以使用 info inferiors 命令查看当前连接的进程列表。另外，GDB 还提供了一些特殊的命令用于处理多进程调试，如 inferior 命令用于切换当前活动进程，detach 命令用于从进程中分离 GDB。