# 网络基础知识

## 单播、组播、广播

单播是主机间一对一的通讯模式。

组播是主机间一对多的通讯模式。

广播是主机间一对所有的通讯模式。

> [什么是组播？组播和单播的区别是什么？ - 华为 (huawei.com)](https://info.support.huawei.com/info-finder/encyclopedia/zh/%E7%BB%84%E6%92%AD.html)

以太网传输**单播** IP 报文的时候，目的 MAC 地址使用的是接收者的 MAC 地址。但是在传输**组播**报文时，传输目标不再是一个具体的接收者，而是一个成员不确定的组，所以需要使用组播 MAC 地址作为目的地址。IANA 规定，**组播 MAC 地址的高 24bit 为 0x01005e**，MAC 地址的低 23 bit为组播 IP 地址的低 23 bit，映射关系：

由于 IP 组播地址的高 4 bit 是1110，代表组播标识，而低 28 bit 中只有 23 bit 被映射到 MAC 地址，这样 IP 地址中就会有 5 bit 信息丢失，直接的结果是出现了 32 个IP组播地址映射到同一 MAC 地址上。

## MAC

MAC 地址转发表是一张**基于端口的二层转发表**，是以太网交换机实现二层报文快速转发的基础。

MAC 地址转发表的表项包括：

*   目的 MAC 地址
*   端口所属的 VLAN ID
*   转发端口号

### MAC 地址转发表的学习过程

*   对于目的 MAC 地址已经存在于 MAC 地址转发表中的报文，系统将直接使用硬件转发。
*   对于目的 MAC 地址没有存在于 MAC 地址转发表中的报文，系统将在接收端口所在 VLAN 内向除接收端口外的所有端口转发该报文，通常称为对该报文进行广播操作。

在对该报文进行广播操作之后：

1.  如果交换机**收到**目的设备对此广播报文的回应，表示报文已正常发送至目的设备。在应答报文中将包含目的设备的 MAC地址，交换机通过地址学习将目的设备的 MAC 地址加入到 MAC 地址转发表中。之后去往同一目的 MAC地址的报文，就可以利用该新增的 MAC地址表项直接进行转发了。
2.  如果交换机**没有收到**目的设备的回应，表示目的设备不可达或目的设备虽然收到报文但没有回复。这种情况下，交换机仍将无法学习到目的设备的 MAC地址。因此，交换机在下一次转发目的为该 MAC地址的报文时，依然以广播方式进行发送。

以太网交换机的 MAC 地址转发表是有容量限制的，为了最大限度利用地址转发表资源以太网交换机利用老化机制更新 MAC 地址转发表，即：如果在老化时间内没有收到来自某网络设备的报文，交换机就会把与此设备相关的 MAC 地址表项删除。但是 MAC地址老化对静态 MAC地址表项是无效的。 用户可以根据网络实际情况手工配置（添加或修改）MAC地址表项，添加或修改的表项可以是静态的表项或者动态的表项。

根据自身特点和配置方式等的不同，MAC地址表项可以分为二类：

1.静态 MAC地址表项：也称为“永久地址”，由用户手工添加和删除，不会随着时间老化。对于一个设备变动较小的网络，手工添加静态地址表项可以减少网络中的广播流量。

2.动态 MAC 地址表项：指可以按照用户配置的老化时间而老化掉的 MAC 地址表项，交换机可以通过 MAC地址学习机制或通过用户手工建立的方式添加动态 MAC地址表项。

## ACL

ACL（Access Control List，访问控制列表）主要用来实现流识别功能。网络设备为了过滤数据包，需要配置一系列的匹配规则，以识别需要过滤的报文。在识别出特定的报文之后，才能根据预先设定的策略允许或禁止相应的数据包通过。

## 0.0.0.0 & 127.0.0.1

IPV4 中，0.0.0.0 地址被用于表示一个无效的，未知的或者不可用的目标。当一台主机还没有被分配一个IP地址的时候，用于**表示主机本身**。

127.0.0.1 适用于本机通信，0.0.0.0 适用于服务器配置。

127.0.0.1 是一个环回地址。并不表示“本机”。0.0.0.0才是真正表示“本网络中的本机”。

> [一文彻底明白127.0.0.1和0.0.0.0地址的区别是什么 – PingCode](https://docs.pingcode.com/ask/307039.html)
>
> [源地址和目的地址理解\_127.0.0.1和0.0.0.0地址的区别-CSDN博客](https://blog.csdn.net/weixin_39933336/article/details/110806484)

